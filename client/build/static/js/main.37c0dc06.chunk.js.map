{"version":3,"sources":["components/LinkButton.jsx","components/Home.js","components/Kits.js","components/Table.js","api/index.js","components/CreateOrEdit.js","components/Error.js","components/PrivateRoute.js","components/Login.js","App.js","serviceWorker.js","index.js"],"names":["withRouter","props","history","to","location","match","staticContext","onClick","kit","rest","event","push","Home","className","id","href","target","rel","this","allSpecies","map","species","selectSpecies","key","loggedIn","rowCount","Component","Kits","sortKitsByName","kitArray","sort","a","b","aName","name","toUpperCase","bName","currentSpecies","currentPosKits","updateTable","tableKitIDs","currentNegKits","goBack","Table","generateRows","numRows","row","rows","rowID","rowKey","onChange","e","updateRowCellCount","value","tableRowsHash","onKeyPress","charCode","preventDefault","constants","constant","idx","cellMultiplier","slice","multiplied","Number","toLocaleString","useGrouping","arrayedKitData","speciesGroup","deleteSpeciesFromTable","colSpan","length","type","deleteKitFromTable","clearTable","window","print","baseURL","process","trim","undefined","api","axios","create","withCredentials","apis","createKit","kitData","post","updateKitById","put","deleteKitById","delete","getAllKits","get","logIn","loginData","checkLoginStatus","logOut","CreateOrEdit","componentDidMount","params","kitID","state","setState","console","log","localForm","JSON","parse","localStorage","getItem","updateLocalStorage","generateConstantsDatalists","memoize","allKits","constantNames","createArrayOfNonRepeatingElements","constantUnits","constantCells","indexToUse","appendUnits","allConstantGroups","reduce","finalArray","set","Set","units","constantGroup","preAddSize","size","newSet","add","array","Array","from","createOrUpdate","setItem","stringify","handleInput","constantRow","constantNameOrValue","cloneDeep","values","split","allKitIDs","has","duplicateID","checkID","alert","capitalizeWords","string","word","join","processFields","namePrepped","String","speciesPrepped","constantsPrepped","el","checkForEmptyFields","constantsEmpty","validateFields","handleSubmit","updateOrCreate","updateTableKitData","clearStateAndStorage","fetchKitsFromDatabase","removeItem","modifyConstantRows","modification","deleteKit","typeRef","React","createRef","datalists","autoComplete","onSubmit","align","disabled","placeholder","onBlur","list","onKeyDown","ref","onMouseDown","current","nameAndUnits","unit","cells","confirm","Error","PrivateRoute","PrivateComponent","component","path","render","Login","handleChange","action","password","passwordPlaceholder","username","then","response","status","setLoggedInStatus","catch","error","App","fetchLocalStorage","getUser","data","user","bool","localState","tableKitData","res","responseData","extractAllSpecies","createKitIDHash","speciesSet","modifyRowCount","currentKits","filter","sortKits","positiveKits","negativeKits","Object","assign","modifyTableRowsHash","addKitData","removeKitData","hashifyKitData","filteredKitData","updatedKit","mod","i","kitDataHash","concat","arrayifyKitData","groupSpecies","groupArray","inputType","input","clone","speciesRows","keys","IDs","ID","group","kitSpecies","kitsHash","bind","exact","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.37c0dc06.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\n\nconst LinkButton = props => {\n  const {\n    history,\n    location,\n    match,\n    staticContext,\n    to,\n    onClick,\n    kit,\n    // ⬆ filtering out props that `button` doesn’t know what to do with.\n    ...rest\n  } = props;\n  return (\n    <button\n      {...rest} // `children` is just another prop!\n      onClick={event => {\n        onClick && onClick(event);\n        history.push(to, kit);\n      }}\n    />\n  );\n};\n\nLinkButton.propTypes = {\n  to: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired\n};\n\nexport default withRouter(LinkButton);\n\n//thanks to: https://stackoverflow.com/questions/42463263/wrapping-a-react-router-link-in-an-html-button\n//wrapping a button tag with a react Link or 'a' tag, or vice versa, is not valid HTML and can cause problems\n","//the Home component contains button links to different species' kits and a button link to the Table component, which also displays how many current kits are in the Table.\nimport React, { Component } from \"react\";\nimport LinkButton from \"./LinkButton.jsx\";\nimport \"./Home.css\";\n\n//THINGS TO DO\n\nclass Home extends Component {\n  render() {\n    return (\n      <div className=\"page\">\n        <header>\n          <div className=\"page-title\" id=\"home-title\">\n            Secondary Isolation Calculator\n          </div>\n          <div className=\"home-subtitle\">\n            For{\" \"}\n            <a\n              className=\"miltenyi-link\"\n              href=\"https://www.miltenyibiotec.com/US-en/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Miltenyi Biotec\n            </a>{\" \"}\n            Kits\n          </div>\n        </header>\n        <div className=\"home-container-species-buttons scrollable-body\">\n          {this.props.allSpecies.map(species => (\n            <LinkButton\n              to=\"/kits\"\n              className=\"species-button\"\n              onClick={() => this.props.selectSpecies(species)}\n              key={species}\n            >\n              {species}\n            </LinkButton>\n          ))}\n        </div>\n        <footer>\n          <LinkButton\n            to=\"/create\"\n            id={\n              this.props.loggedIn\n                ? \"create-button-faded-in\"\n                : \"create-button-faded-out\"\n            }\n          >\n            Create Kit\n          </LinkButton>\n          <LinkButton to=\"/table\" className=\"nav-button table-button\">\n            Table &#40;{this.props.rowCount}{\" \"}\n            {this.props.rowCount === 1 ? \"Sample\" : \"Samples\"}&#41;\n          </LinkButton>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","//the Kits component lists all positive & negative kits for the selected species, and allows user to add kits to the Table and modify the number of samples for each kit. if the user is logged in, 'edit' buttons are visible for each kit, as well as a 'create kit' button on the page.\nimport React, { Component } from \"react\";\nimport LinkButton from \"./LinkButton.jsx\";\nimport \"./Kits.css\";\n\n//THINGS TO DO\n\nclass Kits extends Component {\n  sortKitsByName = kitArray => {\n    return kitArray.sort((a, b) => {\n      const aName = a.name.toUpperCase();\n      const bName = b.name.toUpperCase();\n      if (aName < bName) return -1;\n      if (aName > bName) return 1;\n      return 0;\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"page\">\n        <header>\n          <div className=\"page-title\">{this.props.currentSpecies} Kits</div>\n        </header>\n        <div className=\"kits-body scrollable-body\">\n          <div className=\"kit-section section-positive-selection\">\n            <div className=\"kit-section-title\">Positive Selection</div>\n            <div className=\"kit-section-list\">\n              {this.props.currentPosKits &&\n                this.sortKitsByName(this.props.currentPosKits).map(kit => (\n                  <div className=\"kit-info-container\" key={kit.id}>\n                    <div className=\"kit-name-container\">\n                      <div className=\"kit-name\">{kit.name}</div>\n                      <div>\n                        <a\n                          className=\"kit-id\"\n                          href={`https://www.miltenyibiotec.com/US-en/search.html?search=${kit.id}&options=on#globalSearchFamilies=%5B%5D`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          {kit.id}\n                        </a>\n                      </div>\n                    </div>\n                    <div className=\"kit-info-container-right\">\n                      <LinkButton\n                        to={`/edit/${kit.id}`}\n                        className={\n                          this.props.loggedIn\n                            ? \"edit-button\"\n                            : \"edit-button logged-out-edit-button\"\n                        }\n                        //attaches kit object to props.location.state\n                        kit={kit}\n                      >\n                        <i className=\"fas fa-pen\"></i>\n                      </LinkButton>\n\n                      <div className=\"kit-options-row\">\n                        <button\n                          className=\"kit-options-button kit-remove-button subtract-button\"\n                          onClick={() => {\n                            this.props.updateTable(\"subtract\", kit);\n                          }}\n                        >\n                          -\n                        </button>\n                        <div className=\"kit-count\">\n                          {this.props.tableKitIDs[kit.id] || 0}\n                        </div>\n                        <button\n                          className=\"kit-options-button kit-add-button add-button\"\n                          onClick={() => {\n                            this.props.updateTable(\"add\", kit);\n                          }}\n                        >\n                          +\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n          <div className=\"kit-section section-negative-selection\">\n            <div className=\"kit-section-title\">Negative Selection</div>\n            <div className=\"kit-section-list\">\n              {this.props.currentNegKits &&\n                this.sortKitsByName(this.props.currentNegKits).map(kit => (\n                  <div className=\"kit-info-container\" key={kit.id}>\n                    <div className=\"kit-name-container\">\n                      <div className=\"kit-name\">{kit.name}</div>\n                      <div>\n                        <a\n                          className=\"kit-id\"\n                          href={`https://www.miltenyibiotec.com/US-en/search.html?search=${kit.id}&options=on#globalSearchFamilies=%5B%5D`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          {kit.id}\n                        </a>\n                      </div>\n                    </div>\n                    <div className=\"kit-info-container-right\">\n                      <LinkButton\n                        to={`/edit/${kit.id}`}\n                        className={\n                          this.props.loggedIn\n                            ? \"edit-button\"\n                            : \"edit-button logged-out-edit-button\"\n                        }\n                        //attaches kit object to props.location.state\n                        kit={kit}\n                      >\n                        <i className=\"fas fa-pen\"></i>\n                      </LinkButton>\n\n                      <div className=\"kit-options-row\">\n                        <button\n                          className=\"kit-options-button kit-remove-button subtract-button\"\n                          onClick={() => {\n                            this.props.updateTable(\"subtract\", kit);\n                          }}\n                        >\n                          -\n                        </button>\n                        <div className=\"kit-count\">\n                          {this.props.tableKitIDs[kit.id] || 0}\n                        </div>\n                        <button\n                          className=\"kit-options-button kit-add-button add-button\"\n                          onClick={() => {\n                            this.props.updateTable(\"add\", kit);\n                          }}\n                        >\n                          +\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n        </div>\n\n        <footer>\n          <button\n            className=\"nav-button back-button\"\n            onClick={() => {\n              this.props.history.goBack();\n            }}\n          >\n            Back\n          </button>\n          <LinkButton to=\"/\" className=\"nav-button home-button\">\n            Home\n          </LinkButton>\n          <LinkButton\n            to=\"/create\"\n            id={\n              this.props.loggedIn\n                ? \"create-button-faded-in\"\n                : \"create-button-faded-out\"\n            }\n          >\n            Create Kit\n          </LinkButton>\n          <LinkButton to=\"/table\" className=\"nav-button table-button\">\n            Table &#40;{this.props.rowCount}{\" \"}\n            {this.props.rowCount === 1 ? \"Sample\" : \"Samples\"}&#41;\n          </LinkButton>\n        </footer>\n      </div>\n    );\n  }\n}\nexport default Kits;\n","//the Table component displays all of the kits selected and allows the user to input sample IDs and cell counts to generate the corresponding constants. the Table can then be printed. a \"clear table\" button is provided to clear the Table. if the user is logged in, 'edit' buttons are rendered on each kit.\nimport React, { Component } from \"react\";\nimport LinkButton from \"./LinkButton.jsx\";\nimport \"./Table.css\";\n\n//THINGS TO DO:\n\nclass Table extends Component {\n  generateRows = kit => {\n    const numRows = this.props.tableKitIDs[kit.id];\n    let row = 1;\n    const rows = [];\n\n    while (row <= numRows) {\n      const rowID = row;\n      const rowKey = kit.id + \" \" + rowID;\n\n      rows.push(\n        <tr className=\"table-variables-row\" key={rowID}>\n          <td className=\"medium-cell\">\n            <input\n              className=\"user-input medium-cell\"\n              onChange={e =>\n                this.props.updateRowCellCount(\n                  \"sampleID\",\n                  kit.species,\n                  rowKey,\n                  e.target.value\n                )\n              }\n              value={this.props.tableRowsHash[kit.species][rowKey][0] || \"\"}\n            ></input>\n          </td>\n          <td className=\"short-cell\">\n            <input\n              className=\"user-input short-cell\"\n              // only allow numbers and decimals\n              onKeyPress={e => {\n                if ((e.charCode < 48 && e.charCode !== 46) || e.charCode > 57)\n                  e.preventDefault();\n              }}\n              onChange={e =>\n                this.props.updateRowCellCount(\n                  \"cellCount\",\n                  kit.species,\n                  rowKey,\n                  e.target.value\n                )\n              }\n              value={this.props.tableRowsHash[kit.species][rowKey][1] || \"\"}\n            ></input>\n          </td>\n          {kit.constants.map((constant, idx) => {\n            //if the constant is for time, a spin, or the final wash, just render it\n            if (constant[3] === \"n/a\") {\n              return <td key={idx}>{constant[2]}</td>;\n            }\n            //otherwise, convert the cell count multiplier into 10^n, and divide the product of the cell count and constants by it\n            const cellMultiplier =\n              10 ** ((constant[3] && constant[3].slice(3)) - 6); //6 corresponds to 10^6\n            let multiplied =\n              (Number(constant[2]) *\n                this.props.tableRowsHash[kit.species][rowKey][1]) /\n              cellMultiplier;\n            if (multiplied > 50000) multiplied = 50000;\n            return (\n              <td key={idx}>\n                {multiplied\n                  ? multiplied.toLocaleString(\"en\", { useGrouping: true })\n                  : \"\"}\n              </td>\n            );\n          })}\n        </tr>\n      );\n      ++row;\n    }\n\n    return rows;\n  };\n\n  render() {\n    return (\n      <div className=\"page\">\n        <div className=\"scrollable-body\" id=\"divToPrint\">\n          {/* generate a new table group for each species */}\n          {this.props.arrayedKitData.map(speciesGroup => (\n            <div className=\"tables-container\" key={speciesGroup[0]}>\n              <div className=\"tables-header\">\n                <div className=\"tables-header-spacer\"></div>\n                <LinkButton\n                  to=\"/kits\"\n                  className=\"species-name\"\n                  onClick={() => this.props.selectSpecies(speciesGroup[0])}\n                  key={speciesGroup[0]}\n                >\n                  {speciesGroup[0]}\n                </LinkButton>\n                <button\n                  className=\"delete-button delete-species no-print-spacer\"\n                  onClick={() =>\n                    this.props.deleteSpeciesFromTable(speciesGroup[0])\n                  }\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              </div>\n              {/* generate a table for each kit in the species group */}\n              {speciesGroup[1].map(kit => (\n                <table className=\"kit-table\" key={kit.id}>\n                  <thead>\n                    <tr>\n                      <th\n                        className=\"kit-table-header-container\"\n                        colSpan={kit.constants.length + 2}\n                      >\n                        <div className=\"kit-table-header\">\n                          <LinkButton\n                            to={`/edit/${kit.id}`}\n                            className={\n                              this.props.loggedIn\n                                ? \"edit-button no-print-spacer\"\n                                : \"edit-button logged-out-edit-button\"\n                            }\n                            //attaches kit object to props.location.state\n                            kit={kit}\n                          >\n                            <i className=\"fas fa-pen\"></i>\n                          </LinkButton>\n                          <div className=\"kit-table-header-text-container\">\n                            <div className=\"kit-table-header-name\">\n                              {kit.name}:{\" \"}\n                              <a\n                                className=\"kit-table-header-id\"\n                                href={`https://www.miltenyibiotec.com/US-en/search.html?search=${kit.id}&options=on#globalSearchFamilies=%5B%5D`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                              >\n                                {kit.id}\n                              </a>\n                            </div>\n                            <div className=\"kit-table-header-selection\">\n                              ({kit.type} Selection)\n                            </div>\n                          </div>\n                          <button\n                            className=\"delete-button delete-kit no-print-spacer\"\n                            onClick={() =>\n                              this.props.deleteKitFromTable(kit.id, kit.species)\n                            }\n                          >\n                            <i className=\"fas fa-trash-alt\"></i>\n                          </button>\n                        </div>\n                      </th>\n                    </tr>\n                    <tr className=\"kit-multipliers-row no-print\">\n                      <th className=\"kit-constants-title\" colSpan={2}>\n                        Constants:\n                      </th>\n                      {/* using idx for the keys because constants can repeat */}\n                      {kit.constants.map((constant, idx) => (\n                        <th key={idx}>{constant[2]}</th>\n                      ))}\n                    </tr>\n                    <tr className=\"kit-constant-names-row\">\n                      <th className=\"medium-cell\">Sample ID</th>\n                      <th className=\"short-cell superscript-cell\">\n                        Cell Count (10<sup>6</sup>)\n                      </th>\n                      {/* using idx for the keys because constants can repeat */}\n                      {kit.constants.map((constant, idx) => (\n                        <th key={idx}>\n                          {constant[0] + \" (\" + constant[1] + \")\"}\n                        </th>\n                      ))}\n                    </tr>\n                  </thead>\n                  <tbody>{this.generateRows(kit)}</tbody>\n                  <tfoot className=\"no-print\">\n                    <tr>\n                      <td colSpan={kit.constants.length + 2}>\n                        <div className=\"kit-table-footer\">\n                          <button\n                            className=\"kit-table-row-button add-button\"\n                            onClick={() => this.props.updateTable(\"add\", kit)}\n                          >\n                            Add Sample\n                          </button>\n                          <button\n                            className=\"kit-table-row-button subtract-button\"\n                            onClick={() =>\n                              this.props.updateTable(\"subtract\", kit)\n                            }\n                          >\n                            Remove Sample\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  </tfoot>\n                </table>\n              ))}\n            </div>\n          ))}\n        </div>\n\n        <footer>\n          <button\n            className=\"nav-button back-button\"\n            onClick={() => {\n              this.props.history.goBack();\n            }}\n          >\n            Back\n          </button>\n          <LinkButton to=\"/\" className=\"nav-button home-button\">\n            Home\n          </LinkButton>\n          <button\n            className=\"nav-button clear-table-button\"\n            onClick={() => {\n              this.props.clearTable();\n            }}\n          >\n            Clear Table\n          </button>\n          <button\n            className=\"nav-button print-button\"\n            onClick={() => {\n              window.print();\n            }}\n          >\n            Print\n          </button>\n        </footer>\n      </div>\n    );\n  }\n}\nexport default Table;\n","import axios from \"axios\";\n\nconst baseURL =\n  process.env.NODE_ENV.trim() === \"development\"\n    ? \"http://localhost:8000\"\n    : undefined;\n\nconst api = axios.create({\n  withCredentials: true,\n  baseURL\n});\n\nexport const createKit = kitData => api.post(`/api/kit`, kitData);\nexport const updateKitById = (id, kitData) =>\n  api.put(`/api/kit/${id}`, kitData);\nexport const deleteKitById = id => api.delete(`/api/kit/${id}`);\nexport const getAllKits = () => api.get(`/api/kits`);\nexport const logIn = loginData => api.post(\"/api/login\", loginData);\nexport const checkLoginStatus = () => api.get(\"/api/login\");\nexport const logOut = () => api.post(\"/api/logout\");\n\nconst apis = {\n  createKit,\n  updateKitById,\n  deleteKitById,\n  getAllKits,\n  logIn,\n  checkLoginStatus,\n  logOut\n};\n\nexport default apis;\n","//the CreateOrEdit component allows the user to create a new kit or update/delete an existing kit, depending on where they navigated from. validation checks before submission ensure that all fields are filled, IDs are not re-used, appropriate fields are capitalized, and trailing/leading whitespace is deleted. submitting a new kit or an updated kit will update the App state as well as the database.\nimport React, { Component } from \"react\";\nimport LinkButton from \"./LinkButton.jsx\";\nimport { cloneDeep } from \"lodash\";\nimport memoize from \"memoize-one\";\nimport apis from \"../api\";\nimport \"./CreateOrEdit.css\";\n\n//THINGS TO DO\n\nclass CreateOrEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: \"\",\n      name: \"\",\n      species: \"\",\n      type: \"\",\n      constants: [[null, null, null, null]],\n      duplicateID: false,\n      constantNames: [],\n      constantUnits: [],\n      constantCells: []\n    };\n    //ref for kit type HTML input. used to clear the input's value on click, to allow showing the user both options (\"Positive\" and \"Negative\") immediately, as opposed to only suggesting mastching options\n    this.typeRef = React.createRef();\n  }\n\n  componentDidMount = async () => {\n    //if editing a kit, grab the kit data pushed into the history object (location.state). if the user just went to the url directly, i.e., didn't click in from a kit, there is no history so grab from localStorage\n    if (this.props.match.params.kitID) {\n      if (this.props.location.state) {\n        await this.setState(this.props.location.state);\n      } else {\n        console.log(\"Fetching saved update kit data...\");\n        const localForm = JSON.parse(localStorage.getItem(\"updateState\"));\n        await this.setState(localForm);\n        console.log(\"Saved update kit data loaded.\");\n      }\n      this.updateLocalStorage(\"update\");\n    } else {\n      //otherwise, creating kit, grab any form data from localStorage\n      console.log(\"Fetching saved create kit data...\");\n      const localForm = JSON.parse(localStorage.getItem(\"createState\"));\n      await this.setState(localForm);\n      console.log(\"Saved create kit data loaded.\");\n    }\n  };\n\n  generateConstantsDatalists = memoize(allKits => {\n    if (!allKits) return;\n    const constantNames = this.createArrayOfNonRepeatingElements(\n      allKits,\n      0,\n      true\n    );\n    const constantUnits = this.createArrayOfNonRepeatingElements(allKits, 1);\n    const constantCells = this.createArrayOfNonRepeatingElements(allKits, 3);\n    return { constantNames, constantUnits, constantCells };\n  });\n\n  createArrayOfNonRepeatingElements = (allKits, indexToUse, appendUnits) => {\n    const allConstantGroups = allKits.reduce((finalArray, kit) => {\n      finalArray.push(...kit.constants);\n      return finalArray;\n    }, []);\n\n    const set = new Set();\n    //to be used if working on the constant names column\n    const units = [];\n\n    for (let constantGroup of allConstantGroups) {\n      let preAddSize;\n      if (appendUnits) preAddSize = set.size;\n      const newSet = set.add(constantGroup[indexToUse]);\n      //if working on the constant names column, and a unique name was added to the set, also store its corresponding units\n      if (appendUnits && newSet.size !== preAddSize)\n        units.push(constantGroup[1]);\n    }\n    let array = Array.from(set);\n\n    //if working on the constant names column, include the units\n    if (appendUnits) {\n      array = array.map((name, idx) => name + \" (\" + units[idx] + \")\");\n    }\n\n    return array.sort();\n  };\n\n  updateLocalStorage = createOrUpdate => {\n    if (createOrUpdate === \"create\")\n      localStorage.setItem(\"createState\", JSON.stringify(this.state));\n    else if (createOrUpdate === \"update\")\n      localStorage.setItem(\"updateState\", JSON.stringify(this.state));\n  };\n\n  handleInput = async (e, constantRow, constantNameOrValue) => {\n    const constants = cloneDeep(this.state.constants);\n    //if we're modifying a constant, modify the corresponding sub-array on state\n    if (constantNameOrValue) {\n      if (constantNameOrValue === \"constantName\") {\n        //split the input value to see if the user selected a suggestion. note that user will not be able to type \"(\".\n        const values = e.target.value.split(\"(\");\n        //if there is something on the other side of the (, the user must have selected a suggestion. or copy and pasted, not likely.\n        if (values[1]) {\n          constants[constantRow][0] = values[0].trim();\n          constants[constantRow][1] = values[1].slice(0, -1);\n        } else {\n          constants[constantRow][0] = values[0];\n        }\n      } else if (constantNameOrValue === \"constantUnit\") {\n        constants[constantRow][1] = e.target.value;\n      } else if (constantNameOrValue === \"constantValue\") {\n        constants[constantRow][2] = e.target.value;\n      } else if (constantNameOrValue === \"constantCells\") {\n        constants[constantRow][3] = e.target.value;\n      }\n      await this.setState({ constants });\n    }\n    //otherwise we are not dealing with constants, just update the appropriate fields\n    else {\n      await this.setState({ [e.target.name]: e.target.value });\n      //check to see if the ID is already used. there should not be duplicate kits\n      if (this.props.allKitIDs.has(this.state.id)) {\n        this.setState({ duplicateID: true });\n      } else {\n        this.setState({ duplicateID: false });\n      }\n    }\n    this.updateLocalStorage(\n      this.props.match.params.kitID ? \"update\" : \"create\"\n    );\n  };\n\n  checkID = () => {\n    if (this.props.allKitIDs.has(this.state.id)) {\n      alert(\"This kit ID is already in use.\");\n    }\n  };\n\n  capitalizeWords = string => {\n    const arrayOfWords = string.split(\" \");\n    const capitalizedArray = arrayOfWords.map(word => {\n      return word[0].toUpperCase() + word.slice(1);\n    });\n    return capitalizedArray.join(\" \");\n  };\n\n  processFields = (name, species, constants) => {\n    const namePrepped = this.capitalizeWords(String(name).trim());\n    const speciesPrepped = this.capitalizeWords(species.trim());\n    const constantsPrepped = constants.map(constantGroup => {\n      constantGroup = constantGroup.map(el => el.trim());\n      constantGroup[0] = this.capitalizeWords(constantGroup[0]);\n      return constantGroup;\n    });\n    return { namePrepped, speciesPrepped, constantsPrepped };\n  };\n\n  checkForEmptyFields = (id, name, species, type, constants) => {\n    let constantsEmpty = false;\n    for (let constant of constants) {\n      if (!constant[0] || !constant[1] || !constant[2] || !constant[3])\n        constantsEmpty = true;\n    }\n    if (\n      id === \"\" ||\n      name === \"\" ||\n      species === \"\" ||\n      type === \"\" ||\n      constantsEmpty\n    ) {\n      alert(\"All fields must be filled.\");\n      return true;\n    }\n    return false;\n  };\n\n  validateFields = () => {\n    const { id, name, species, type, constants } = cloneDeep(this.state);\n\n    if (this.checkForEmptyFields(id, name, species, type, constants))\n      return false;\n\n    const {\n      namePrepped,\n      speciesPrepped,\n      constantsPrepped\n    } = this.processFields(name, species, constants);\n\n    return {\n      id: String(id),\n      name: namePrepped,\n      species: speciesPrepped,\n      type,\n      constants: constantsPrepped\n    };\n  };\n\n  handleSubmit = async (e, updateOrCreate) => {\n    e.preventDefault();\n    if (this.validateFields() === false) return;\n    const { id, name, species, type, constants } = this.validateFields();\n\n    updateOrCreate === \"update\"\n      ? await apis.updateKitById(id, {\n          name,\n          species,\n          type,\n          constants\n        })\n      : await apis.createKit({\n          id,\n          name,\n          species,\n          type,\n          constants\n        });\n    //if this was an update on a kit, make sure it gets updated in Table if present\n    if (updateOrCreate === \"update\") {\n      this.props.updateTableKitData(\n        {\n          id,\n          name,\n          species,\n          type,\n          constants\n        },\n        \"update\"\n      );\n      //bug: if user copy/pastes the edit kit URL in a new tab, it will update the kit in db but then send the user back to the default new tab page\n      this.props.history.goBack();\n    }\n    await this.clearStateAndStorage();\n    alert(\n      updateOrCreate === \"update\"\n        ? \"Kit updated in database!\"\n        : \"New kit added to database!\"\n    );\n\n    await this.props.fetchKitsFromDatabase();\n    //after App has finished grabbing the new set of kits, update the kits for the currentSpecies, in case the user goes back to the species Kits page, should see the new update\n    await this.props.selectSpecies(this.props.currentSpecies);\n  };\n\n  clearStateAndStorage = () => {\n    localStorage.removeItem(\n      this.props.match.params.kitID ? \"updateState\" : \"createState\"\n    );\n    this.setState({\n      id: \"\",\n      name: \"\",\n      species: \"\",\n      type: \"\",\n      constants: [[null, null, null, null]]\n    });\n  };\n\n  modifyConstantRows = async modification => {\n    if (modification === \"add\")\n      await this.setState({\n        constants: [...this.state.constants, [null, null, null, null]]\n      });\n    else if (modification === \"subtract\")\n      await this.setState({ constants: this.state.constants.slice(0, -1) });\n    this.updateLocalStorage(\n      this.props.match.params.kitID ? \"update\" : \"create\"\n    );\n  };\n\n  deleteKit = async kitID => {\n    const { id, name, species, type, constants } = cloneDeep(this.state);\n    this.clearStateAndStorage();\n    await apis.deleteKitById(kitID);\n    //update App state\n    await this.props.fetchKitsFromDatabase();\n    //update species' kits in Kits component if necessary\n    await this.props.selectSpecies(this.props.currentSpecies);\n\n    await this.props.updateTableKitData(\n      { id, name, species, type, constants },\n      \"delete\"\n    );\n    this.props.history.goBack();\n    console.log(\"Kit deleted from database.\");\n  };\n\n  render() {\n    const datalists = this.generateConstantsDatalists(this.props.allKits);\n    return (\n      <div className=\"page\">\n        <header>\n          <div className=\"page-title\">\n            {this.props.match.params.kitID ? (\n              <>\n                Edit{\" \"}\n                <a\n                  className=\"edit-kit-id\"\n                  href={`https://www.miltenyibiotec.com/US-en/search.html?search=${this.props.match.params.kitID}&options=on#globalSearchFamilies=%5B%5D`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {this.props.match.params.kitID}\n                </a>\n              </>\n            ) : (\n              \"Create Kit\"\n            )}\n          </div>\n        </header>\n        <form\n          className=\"create-form\"\n          autoComplete=\"off\"\n          onSubmit={e => {\n            this.handleSubmit(\n              e,\n              this.props.match.params.kitID ? \"update\" : \"create\"\n            );\n          }}\n        >\n          <div className=\"create-section-left\">\n            <table id=\"create-edit-table\">\n              <tbody>\n                <tr>\n                  <td className=\"create-form-label\" align=\"right\">\n                    ID\n                  </td>\n                  <td align=\"left\" colSpan={2}>\n                    <input\n                      type=\"text\"\n                      value={this.state.id}\n                      disabled={this.props.match.params.kitID ? true : false}\n                      name=\"id\"\n                      placeholder=\"000-000-000\"\n                      onChange={this.handleInput}\n                      onBlur={this.checkID}\n                      className={\n                        this.state.duplicateID && !this.props.match.params.kitID\n                          ? \"form-top-input error\"\n                          : \"form-top-input\"\n                      }\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td className=\"create-form-label\" align=\"right\">\n                    Name\n                  </td>\n                  <td align=\"left\" colSpan={2}>\n                    <input\n                      className=\"form-top-input\"\n                      type=\"text\"\n                      value={this.state.name}\n                      name=\"name\"\n                      placeholder=\"CD000 Isolation Kit\"\n                      onChange={this.handleInput}\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td className=\"create-form-label\" align=\"right\">\n                    Species\n                  </td>\n                  <td align=\"left\" colSpan={2}>\n                    <input\n                      className=\"form-top-input\"\n                      type=\"text\"\n                      list=\"species-choices\"\n                      name=\"species\"\n                      onChange={this.handleInput}\n                      value={this.state.species}\n                      placeholder=\"Dragon\"\n                    />\n                    <datalist id=\"species-choices\">\n                      {this.props.allSpecies.map(species => (\n                        <option key={species}>{species}</option>\n                      ))}\n                    </datalist>\n                  </td>\n                </tr>\n                <tr>\n                  <td className=\"create-form-label\" align=\"right\">\n                    Selection\n                  </td>\n                  <td align=\"left\" colSpan={2}>\n                    <input\n                      className=\"form-top-input select-type\"\n                      type=\"text\"\n                      list=\"type-choices\"\n                      name=\"type\"\n                      onKeyDown={e => {\n                        e.preventDefault();\n                      }}\n                      ref={this.typeRef}\n                      onMouseDown={() => {\n                        this.typeRef.current.value = \"\";\n                        this.setState({ type: \"\" });\n                      }}\n                      onChange={this.handleInput}\n                      value={this.state.type}\n                      placeholder=\"Select one:\"\n                    />\n                    <datalist id=\"type-choices\">\n                      <option value=\"Positive\">Positive</option>\n                      <option value=\"Negative\">Negative</option>\n                    </datalist>\n                  </td>\n                </tr>\n                <tr>\n                  <td className=\"constants-header\" colSpan={3}>\n                    Constants\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div className=\"scrollable-body table-of-constants-container\">\n              <table className=\"table-of-constants\">\n                <thead className=\"toc-head\">\n                  <tr className=\"toc-header\">\n                    <th className=\"toc-name-col create-form-label\">Name</th>\n                    <th className=\"create-form-label\">Units</th>\n                    <th className=\"create-form-label\">Constant</th>\n                    <th className=\"toc-cells-col create-form-label\">Cells</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.constants.map((constantRow, idx) => (\n                    <tr key={idx}>\n                      <td>\n                        <input\n                          className=\"form-bottom-input\"\n                          type=\"text\"\n                          list=\"constants-names\"\n                          onChange={e => {\n                            this.handleInput(e, idx, \"constantName\");\n                          }}\n                          value={constantRow[0] || \"\"}\n                          placeholder=\"Fireball Cocktail\"\n                        />\n                        <datalist id=\"constants-names\">\n                          {datalists.constantNames.map(nameAndUnits => (\n                            <option key={nameAndUnits}>{nameAndUnits}</option>\n                          ))}\n                        </datalist>\n                      </td>\n\n                      <td>\n                        <input\n                          className=\"form-bottom-input\"\n                          type=\"text\"\n                          list=\"units\"\n                          onChange={e => {\n                            this.handleInput(e, idx, \"constantUnit\");\n                          }}\n                          value={constantRow[1] || \"\"}\n                          placeholder=\"cups\"\n                        />\n                        <datalist id=\"units\">\n                          {datalists.constantUnits.map(unit => (\n                            <option key={unit}>{unit}</option>\n                          ))}\n                        </datalist>\n                      </td>\n\n                      <td>\n                        <input\n                          className=\"form-bottom-input\"\n                          type=\"text\"\n                          onChange={e => {\n                            this.handleInput(e, idx, \"constantValue\");\n                          }}\n                          value={constantRow[2] || \"\"}\n                          placeholder=\"000\"\n                        />\n                      </td>\n                      <td>\n                        <input\n                          className=\"form-bottom-input\"\n                          type=\"text\"\n                          list=\"cells\"\n                          onChange={e => {\n                            this.handleInput(e, idx, \"constantCells\");\n                          }}\n                          value={constantRow[3] || \"\"}\n                          placeholder=\"10^00\"\n                        />\n                        <datalist id=\"cells\">\n                          {datalists.constantCells.map(cells => (\n                            <option key={cells}>{cells}</option>\n                          ))}\n                        </datalist>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            <div className=\"create-add-subtract-container\">\n              <button\n                className=\"create-add-subtract-row-button create-add-button\"\n                type=\"button\"\n                onClick={() => this.modifyConstantRows(\"add\")}\n              >\n                Add Row\n              </button>\n              <button\n                className=\"create-add-subtract-row-button create-subtract-button\"\n                type=\"button\"\n                onClick={() => this.modifyConstantRows(\"subtract\")}\n              >\n                Remove Row\n              </button>\n            </div>\n          </div>\n          <div className=\"create-section-right\">\n            <button\n              className=\"create-master-button create-clear-button\"\n              type=\"button\"\n              onClick={this.clearStateAndStorage}\n            >\n              Clear All\n            </button>\n            <input\n              className=\"create-master-button create-create-update-button\"\n              type=\"submit\"\n              value={\n                this.props.match.params.kitID ? \"Update Kit\" : \"Create Kit\"\n              }\n            />\n            {/* only show delete button if editing a kit */}\n            {this.props.match.params.kitID ? (\n              <button\n                className=\"create-master-button create-delete-button\"\n                type=\"button\"\n                onClick={() => {\n                  if (\n                    window.confirm(\n                      \"Confirm permanently deleting this kit from the database?\"\n                    )\n                  )\n                    this.deleteKit(this.state.id);\n                }}\n              >\n                Delete Kit\n              </button>\n            ) : null}\n          </div>\n        </form>\n        <footer>\n          <button\n            className=\"nav-button back-button\"\n            onClick={() => {\n              this.props.history.goBack();\n            }}\n          >\n            Back\n          </button>\n          <LinkButton to=\"/\" className=\"nav-button home-button\">\n            Home\n          </LinkButton>\n\n          <LinkButton to=\"/table\" className=\"nav-button table-button\">\n            Table &#40;{this.props.rowCount}{\" \"}\n            {this.props.rowCount === 1 ? \"Sample\" : \"Samples\"}&#41;\n          </LinkButton>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default CreateOrEdit;\n","import React from \"react\";\nimport LinkButton from \"./LinkButton.jsx\";\nimport \"./Error.css\";\n\nconst Error = props => {\n  return (\n    <div className=\"page\">\n      <div className=\"error-container\">\n        <div className=\"lock-icon\">\n          <div className=\"lock-loop\"></div>\n          <div className=\"lock-body\">\n            <div className=\"lock-hole-top\"></div>\n            <div className=\"lock-hole-bottom\"></div>\n          </div>\n        </div>\n\n        <div className=\"error-text\">Please log in for full site access.</div>\n      </div>\n      <footer>\n        <button\n          className=\"nav-button back-button\"\n          onClick={() => {\n            props.history.goBack();\n          }}\n        >\n          Back\n        </button>\n        <LinkButton to=\"/\" className=\"nav-button home-button\">\n          Home\n        </LinkButton>\n\n        <LinkButton to=\"/table\" className=\"nav-button table-button\">\n          Table &#40;{props.rowCount}{\" \"}\n          {props.rowCount === 1 ? \"Sample\" : \"Samples\"}&#41;\n        </LinkButton>\n      </footer>\n    </div>\n  );\n};\n\nexport default Error;\n","//the PrivateRoute component wraps the CreateOrEdit component and verifies that the user is logged in before rendering CreateOrEdit. if not logged in, the user is shown the Error component.\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Error from \"./Error\";\n\nconst PrivateRoute = ({\n  component: PrivateComponent,\n  path,\n  loggedIn,\n  ...rest\n}) => {\n  return (\n    <Route\n      path={path}\n      render={props =>\n        loggedIn ? (\n          <PrivateComponent {...props} {...rest} />\n        ) : (\n          //Error component shouldn't ever show up in normal use (because the 'edit' and 'create' buttons shouldn't even render), only if the user tries to access the component directly through URL\n          <Error {...props} {...rest} />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","//the Login component persists at the top of the app to allow the user to see their login status and change it if needed. the user can enter the lab password and change access from 'visitor mode' to 'full access mode', which will allow rendering of 'edit' and 'create' kit buttons.\nimport React, { Component } from \"react\";\nimport apis from \"../api\";\nimport \"./Login.css\";\n\n//THINGS TO DO\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"admin\",\n      password: \"\",\n      passwordPlaceholder: \"\"\n    };\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  handleSubmit = async (e, action) => {\n    e.preventDefault();\n\n    if (action === \"login\") {\n      if (this.state.password === \"\")\n        return this.setState({\n          passwordPlaceholder: \"Please type a password\"\n        });\n      apis\n        .logIn({\n          username: this.state.username,\n          password: this.state.password\n        })\n        .then(response => {\n          if (response.status === 200) {\n            // update App.js state so user is logged in everywhere\n            this.props.setLoggedInStatus(true);\n            this.setState({ password: \"\", passwordPlaceholder: \"\" });\n          }\n        })\n        .catch(error => {\n          console.log(\"Login error:\", error);\n          this.setState({\n            password: \"\",\n            passwordPlaceholder: \"Wrong password\"\n          });\n        });\n    } else if (action === \"logout\") {\n      apis\n        .logOut()\n        .then(response => {\n          if (response.status === 200) {\n            // update App.js state so user is logged out everywhere\n            this.props.setLoggedInStatus(false);\n          }\n        })\n        .catch(error => {\n          console.log(\"login error: \");\n          console.log(error);\n        });\n    }\n  };\n  render() {\n    return (\n      <div className=\"login-container\">\n        <div className=\"login-mode\">\n          {this.props.loggedIn ? \"Full Access\" : \"Visitor\"}\n        </div>\n        <div className=\"login-input-container\">\n          <input\n            className=\"login-input\"\n            onChange={this.handleChange}\n            name=\"password\"\n            autoComplete=\"off\"\n            value={this.state.password}\n            placeholder={this.state.passwordPlaceholder}\n          ></input>\n          <button\n            className={\n              this.props.loggedIn\n                ? \"login-button logged-in-button\"\n                : \"login-button logged-out-button\"\n            }\n            onClick={e => {\n              this.handleSubmit(e, this.props.loggedIn ? \"logout\" : \"login\");\n            }}\n          >\n            {this.props.loggedIn ? \"Log Out\" : \"Log In\"}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { cloneDeep } from \"lodash\";\nimport {\n  Home,\n  Kits,\n  CreateOrEdit,\n  Table,\n  PrivateRoute,\n  Login,\n  Error\n} from \"./components\";\nimport apis from \"./api\";\nimport \"./App.css\";\n\n//THINGS TO DO\n//write a giant function for downloading from db, changing state, changing localstorage. use when C/U/D-ing. careful not to lose table data.\n//maybe set timer with each update, to clear localStorage in 24 hours. have button to stop auto-clear in case user wants to keep the table over the weekend or something.\n\n// DATA STRUCTURES EXAMPLES:\n// kit = {\n//   id: \"130-096-537\",\n//   name: \"Pan Monocyte Isolation Kit\",\n//   species: \"Human\",\n//   type: \"Negative\",\n//   constants: [\n//     [\"Buffer (µL)\", \"40\"],\n//     [\"FcR Blocking Reagent (µL)\", \"10\"],\n//     [\"Biotin-Antibody Cocktail (µL)\", \"10\"],\n//     [\"Incubation (min)\", \"5\"],\n//     [\"Buffer (µL)\", \"30\"],\n//     [\"Anti-Biotin Microbeads (µL)\", \"20\"],\n//     [\"Incubation (min)\", \"10\"],\n//     [\"Washes (times x mL)\", \"3 x 3\"]\n//   ]\n// };\n// tableKitIDs = { \"192-050-201\": 2, \"190-229-501\": 1, \"130-096-537\": 8 };\n// tableKitData = [{ kit1 }, { kit2 }, { kit3 }];\n// arrayedKitData = [\n//   [\"Human\", [{ kit1 }, { kit2 }]],\n//   [\"Mouse\", [{ kit1 }]]\n// ];\n// tableRowsHash = {\n//   Human: {\n//     \"130-096-537 0\": [\"Human Sample 24\", \"45.3\"],\n//     \"130-096-537 1\": [\"Human Sample 25\", \"21.5\"],\n//     \"130-096-537 2\": [\"Human Sample 26\", \"39.2\"],\n//     \"142-829-339 0\": [\"Human Sample 3\", \"224.1\"]\n//   },\n//   Mouse: {\n//     \"120-332-192 0\": [\"Mouse Pool\", \"31\"]\n//   }\n// };\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      allKits: [],\n      rowCount: 0,\n      currentSpecies: \"No Species Selected\",\n      currentPosKits: [],\n      currentNegKits: [],\n      tableKitIDs: {},\n      tableKitData: [],\n      arrayedKitData: [],\n      tableRowsHash: {},\n      allSpecies: [],\n      allKitIDs: {} //used for creating kit. checking if ID already exists\n    };\n\n    this.selectSpecies = this.selectSpecies.bind(this);\n    this.updateTable = this.updateTable.bind(this);\n    this.clearTable = this.clearTable.bind(this);\n    this.deleteSpeciesFromTable = this.deleteSpeciesFromTable.bind(this);\n    this.deleteKitFromTable = this.deleteKitFromTable.bind(this);\n    this.fetchKitsFromDatabase = this.fetchKitsFromDatabase.bind(this);\n    this.updateTableKitData = this.updateTableKitData.bind(this);\n    this.setLoggedInStatus = this.setLoggedInStatus.bind(this);\n  }\n\n  componentDidMount = async () => {\n    this.fetchLocalStorage();\n    this.fetchKitsFromDatabase();\n    this.getUser();\n  };\n\n  getUser = () => {\n    apis.checkLoginStatus().then(response => {\n      if (response.data.user) {\n        console.log(\"Existing session; logged in.\");\n        this.setState({\n          loggedIn: true\n        });\n      } else {\n        console.log(\"No existing session.\");\n        this.setState({\n          loggedIn: false\n        });\n      }\n    });\n  };\n\n  setLoggedInStatus = bool => {\n    this.setState({ loggedIn: bool });\n  };\n\n  fetchLocalStorage = async () => {\n    console.log(\"Fetching state from local storage...\");\n\n    const localState = JSON.parse(localStorage.getItem(\"appState\"));\n    if (localState) {\n      // do not need to store/fetch allKits or allSpecies, as those can change in the database and we want to always grab the newest update on loading app\n      const {\n        rowCount,\n        currentSpecies,\n        currentPosKits,\n        currentNegKits,\n        tableKitIDs,\n        tableKitData,\n        arrayedKitData,\n        tableRowsHash\n      } = localState;\n      await this.setState({\n        rowCount,\n        currentSpecies,\n        currentPosKits,\n        currentNegKits,\n        tableKitIDs,\n        tableKitData,\n        arrayedKitData,\n        tableRowsHash\n      });\n    }\n    console.log(\"State loaded.\");\n  };\n\n  //grabs all kits from db, generates array of allSpecies, generates hash of allKitIDs\n  //sets allKits, allSpecies, allKitIDs on state\n  fetchKitsFromDatabase = async () => {\n    console.log(\"Fetching kits from database...\");\n    const res = await apis.getAllKits();\n    const responseData = res.data.data;\n\n    const allKits = [];\n    for (let kit of responseData) {\n      //only grab the fields needed, excluding timestamps and database indices\n      const { id, name, species, type, constants } = kit;\n      allKits.push({\n        id,\n        name,\n        species,\n        type,\n        constants\n      });\n    }\n\n    const allSpecies = this.extractAllSpecies(allKits).sort();\n    const allKitIDs = this.createKitIDHash(allKits);\n    await this.setState({ allKits, allSpecies, allKitIDs });\n    console.log(\"All kits loaded.\");\n  };\n\n  createKitIDHash = allKits => {\n    let allKitIDs = new Set();\n    for (let kit of allKits) {\n      allKitIDs.add(kit.id);\n    }\n    return allKitIDs;\n  };\n\n  extractAllSpecies = allKits => {\n    const speciesSet = new Set();\n    for (let kit of allKits) {\n      speciesSet.add(kit.species);\n    }\n    return Array.from(speciesSet);\n  };\n\n  updateLocalStorage = () => {\n    localStorage.setItem(\"appState\", JSON.stringify(this.state));\n  };\n\n  modifyRowCount = modification => {\n    if (modification === \"add\")\n      this.setState({ rowCount: this.state.rowCount + 1 });\n    else if (modification === \"subtract\")\n      this.setState({ rowCount: this.state.rowCount - 1 });\n  };\n\n  //finds the current species' kits in allKits. calls this.sortKits to separate into positive and negative kit arrays\n  //sets currentSpecies, currentPosKits, currentNegKits on state\n  selectSpecies = async currentSpecies => {\n    const currentKits = this.state.allKits.filter(\n      kit => kit.species === currentSpecies\n    );\n    const { currentPosKits, currentNegKits } = this.sortKits(currentKits);\n    await this.setState({ currentSpecies, currentPosKits, currentNegKits });\n\n    this.updateLocalStorage();\n  };\n\n  sortKits = currentKits => {\n    const positiveKits = [];\n    const negativeKits = [];\n\n    for (let kit of currentKits) {\n      if (kit.type === \"Positive\") positiveKits.push(kit);\n      else if (kit.type === \"Negative\") negativeKits.push(kit);\n    }\n    return { currentPosKits: positiveKits, currentNegKits: negativeKits };\n  };\n\n  updateTable = async (modification, kit) => {\n    let tableKitIDs = Object.assign({}, this.state.tableKitIDs);\n    if (modification === \"add\") {\n      tableKitIDs[kit.id] = (tableKitIDs[kit.id] || 0) + 1;\n\n      let rowID = tableKitIDs[kit.id];\n      let rowKey = kit.id + \" \" + rowID;\n      await this.modifyTableRowsHash(modification, kit.species, rowKey);\n\n      await this.modifyRowCount(modification);\n      await this.setState({ tableKitIDs });\n      //if the kit quantity is increased to 1, add its data to the tableKitData array\n      if (tableKitIDs[kit.id] === 1) {\n        await this.addKitData(kit.id);\n      }\n    } else if (modification === \"subtract\") {\n      if (tableKitIDs[kit.id]) {\n        //remove from tableRowsHash first, before decrementing tableKitIDs. need the correct rowID\n        let rowID = tableKitIDs[kit.id];\n        let rowKey = kit.id + \" \" + rowID;\n        --tableKitIDs[kit.id];\n        await this.setState({ tableKitIDs });\n        await this.modifyTableRowsHash(modification, kit.species, rowKey);\n\n        await this.modifyRowCount(modification);\n      }\n\n      //if the kit quantity is zero, remove its data from the tableKitData array\n      if (!tableKitIDs[kit.id]) {\n        await this.removeKitData(kit.id);\n      }\n    }\n\n    this.updateLocalStorage();\n  };\n\n  addKitData = async kitID => {\n    //find the correct kit from allKits and add to the table\n    for (let kit of this.state.allKits) {\n      if (kit.id === kitID) {\n        const tableKitData = [...this.state.tableKitData, kit];\n        const arrayedKitData = this.hashifyKitData(tableKitData);\n        await this.setState({\n          tableKitData,\n          arrayedKitData\n        });\n        return;\n      }\n    }\n    console.log(\"Kit not found in allKits.\");\n    return;\n  };\n\n  removeKitData = kitID => {\n    const tableKitData = this.state.tableKitData;\n    const filteredKitData = tableKitData.filter(kit => kit.id !== kitID);\n    const arrayedKitData = this.hashifyKitData(filteredKitData);\n    this.setState({ tableKitData: filteredKitData, arrayedKitData });\n  };\n\n  updateTableKitData = async (updatedKit, mod) => {\n    //find the kit in tableKitData and replace or delete it\n    const tableKitData = cloneDeep(this.state.tableKitData);\n    if (mod === \"update\") {\n      for (let i = 0; i < tableKitData.length; i++) {\n        if (tableKitData[i].id === updatedKit.id) {\n          tableKitData[i] = updatedKit;\n          break;\n        }\n      }\n      //generate arrayedKitData for Table to use\n      const arrayedKitData = this.hashifyKitData(tableKitData);\n      await this.setState({ tableKitData, arrayedKitData });\n    } else if (mod === \"delete\") {\n      await this.deleteKitFromTable(updatedKit.id, updatedKit.species);\n    }\n    this.updateLocalStorage();\n  };\n\n  hashifyKitData = tableKitData => {\n    const kitDataHash = {};\n    for (let kit of tableKitData) {\n      kitDataHash[kit.species] = (kitDataHash[kit.species] || []).concat(kit);\n    }\n    return this.arrayifyKitData(kitDataHash);\n  };\n\n  arrayifyKitData = kitDataHash => {\n    let arrayedKitData = [];\n    for (let groupSpecies in kitDataHash) {\n      const groupArray = [groupSpecies, kitDataHash[groupSpecies]];\n      arrayedKitData.push(groupArray);\n    }\n    return arrayedKitData;\n  };\n\n  modifyTableRowsHash = async (modification, species, rowKey) => {\n    const tableRowsHash = cloneDeep(this.state.tableRowsHash);\n    if (modification === \"add\") {\n      if (!tableRowsHash[species]) tableRowsHash[species] = {};\n      tableRowsHash[species][rowKey] = [undefined, undefined];\n    } else if (modification === \"subtract\") {\n      delete tableRowsHash[species][rowKey];\n    }\n\n    await this.setState({ tableRowsHash });\n    this.updateLocalStorage();\n  };\n\n  updateRowCellCount = async (inputType, species, rowKey, input) => {\n    const tableRowsHash = cloneDeep(this.state.tableRowsHash);\n\n    if (inputType === \"cellCount\") {\n      tableRowsHash[species][rowKey][1] = input;\n    } else if (inputType === \"sampleID\") {\n      tableRowsHash[species][rowKey][0] = input;\n    }\n\n    await this.setState({ tableRowsHash });\n\n    this.updateLocalStorage();\n  };\n\n  deleteSpeciesFromTable = async species => {\n    let clone = cloneDeep(this.state);\n    let {\n      rowCount,\n      tableKitIDs,\n      tableKitData,\n      arrayedKitData,\n      tableRowsHash\n    } = clone;\n\n    //grab the number of rows that will be deleted, subtract from tableRows\n    const speciesRows = tableRowsHash[species];\n    const numRows = Object.keys(speciesRows).length;\n    rowCount -= numRows;\n    //delete the entire species and its rows from the hash table\n    delete tableRowsHash[species];\n    //delete kits from the species, from tableKitData array. at the same time, store the IDs of any kits deleted\n    let IDs = [];\n    tableKitData = tableKitData.filter(kit => {\n      if (kit.species !== species) return true;\n      IDs.push(kit.id);\n      return false;\n    });\n    //delete kits from tableKitIDs using the IDs grabbed during the modification of tableKitData\n    for (let ID of IDs) delete tableKitIDs[ID];\n    //delete species from arrayedKitData\n    arrayedKitData = arrayedKitData.filter(group => group[0] !== species);\n\n    await this.setState({\n      rowCount,\n      tableKitIDs,\n      tableKitData,\n      arrayedKitData,\n      tableRowsHash\n    });\n\n    this.updateLocalStorage();\n  };\n\n  deleteKitFromTable = async (kitID, kitSpecies) => {\n    let clone = cloneDeep(this.state);\n    let { rowCount, tableKitIDs, tableKitData, tableRowsHash } = clone;\n\n    //grab the number of rows that will be deleted, subtract from rowCount\n    let numRows = 0;\n    const kitsHash = tableRowsHash[kitSpecies];\n    for (let kit in kitsHash) {\n      if (kit.slice(0, -2) === kitID) {\n        ++numRows;\n        delete kitsHash[kit];\n      }\n    }\n    rowCount -= numRows;\n    //delete kits from tableKitIDs\n    for (let kit in tableKitIDs) {\n      if (kit === kitID) delete tableKitIDs[kit];\n    }\n\n    //delete kit from tableKitData\n    tableKitData = tableKitData.filter(kit => kit.id !== kitID);\n\n    //delete species from arrayedKitData\n    const arrayedKitData = this.hashifyKitData(tableKitData);\n\n    await this.setState({\n      rowCount,\n      tableKitIDs,\n      tableKitData,\n      arrayedKitData,\n      tableRowsHash\n    });\n\n    this.updateLocalStorage();\n  };\n\n  clearTable = async () => {\n    await this.setState({\n      rowCount: 0,\n      tableKitIDs: {},\n      tableKitData: [],\n      arrayedKitData: [],\n      tableRowsHash: {}\n    });\n    this.updateLocalStorage();\n  };\n\n  render() {\n    return (\n      <Router className=\"main\">\n        <Login\n          loggedIn={this.state.loggedIn}\n          setLoggedInStatus={this.setLoggedInStatus}\n        />\n        <Switch>\n          <Route\n            path=\"/kits\"\n            render={props => (\n              <Kits\n                {...props}\n                loggedIn={this.state.loggedIn}\n                currentSpecies={this.state.currentSpecies}\n                currentPosKits={this.state.currentPosKits}\n                currentNegKits={this.state.currentNegKits}\n                rowCount={this.state.rowCount}\n                tableKitIDs={this.state.tableKitIDs}\n                updateTable={this.updateTable}\n              />\n            )}\n          ></Route>\n\n          <PrivateRoute\n            path=\"/edit/:kitID\"\n            component={CreateOrEdit}\n            loggedIn={this.state.loggedIn}\n            allKits={this.state.allKits}\n            rowCount={this.state.rowCount}\n            allKitIDs={this.state.allKitIDs}\n            currentSpecies={this.state.currentSpecies}\n            allSpecies={this.state.allSpecies}\n            fetchKitsFromDatabase={this.fetchKitsFromDatabase}\n            selectSpecies={this.selectSpecies}\n            updateTableKitData={this.updateTableKitData}\n          ></PrivateRoute>\n\n          <PrivateRoute\n            path=\"/create\"\n            component={CreateOrEdit}\n            loggedIn={this.state.loggedIn}\n            allKits={this.state.allKits}\n            rowCount={this.state.rowCount}\n            allKitIDs={this.state.allKitIDs}\n            currentSpecies={this.state.currentSpecies}\n            allSpecies={this.state.allSpecies}\n            fetchKitsFromDatabase={this.fetchKitsFromDatabase}\n            selectSpecies={this.selectSpecies}\n          ></PrivateRoute>\n\n          <Route\n            path=\"/table\"\n            render={props => (\n              <Table\n                {...props}\n                loggedIn={this.state.loggedIn}\n                tableKitIDs={this.state.tableKitIDs}\n                tableKitData={this.state.tableKitData}\n                arrayedKitData={this.state.arrayedKitData}\n                tableRowsHash={this.state.tableRowsHash}\n                selectSpecies={this.selectSpecies}\n                updateTable={this.updateTable}\n                updateRowCellCount={this.updateRowCellCount}\n                deleteSpeciesFromTable={this.deleteSpeciesFromTable}\n                deleteKitFromTable={this.deleteKitFromTable}\n                clearTable={this.clearTable}\n              />\n            )}\n          ></Route>\n\n          <Route\n            path=\"/\"\n            exact={true}\n            render={props => (\n              <Home\n                {...props}\n                loggedIn={this.state.loggedIn}\n                rowCount={this.state.rowCount}\n                allSpecies={this.state.allSpecies}\n                selectSpecies={this.selectSpecies}\n              />\n            )}\n          ></Route>\n\n          <Route\n            path=\"/error\"\n            render={props => (\n              <Error {...props} rowCount={this.state.rowCount} />\n            )}\n          ></Route>\n        </Switch>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}